name: ğŸŒ¿ VÃ©rification des assets visuels

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:

jobs:
  check-assets:
    name: VÃ©rifier la nomenclature des fichiers visuels
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ Cloner le dÃ©pÃ´t
      uses: actions/checkout@v4

    - name: ğŸ”§ Donner les permissions dâ€™exÃ©cution aux scripts
      run: chmod +x ./scripts/check-assets-names.sh

    - name: ğŸš€ Lancer la vÃ©rification de nomenclature
      id: runcheck
      run: |
        echo "ğŸ“‚ DÃ©marrage de la vÃ©rification des fichiers visuels..."
        bash ./scripts/check-assets-names.sh
      continue-on-error: true

    - name: âœ… RÃ©sultat final
      if: steps.runcheck.outcome == 'success'
      run: echo "ğŸŸ¢ Tous les fichiers respectent les conventions de nommage."

    - name: âŒ Ã‰chec â€“ fichiers non conformes
      if: steps.runcheck.outcome != 'success'
      run: |
        echo "ğŸš¨ Certains fichiers ne respectent pas la nomenclature."
        echo "ğŸ“Œ Merci de les renommer selon la charte /docs/Section2-Design.md."
        exit 1
